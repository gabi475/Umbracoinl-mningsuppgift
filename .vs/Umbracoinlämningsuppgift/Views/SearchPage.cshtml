@inherits Umbraco.Web.Mvc.UmbracoViewPage<ContentModels.SearchPage>

    @using ContentModels = Umbraco.Web.PublishedModels;
    @{
    Layout =  "master.cshtml";

    }

    <style>

        h2 {
            margin: 0;
            color: #666;
            padding-top: 90px;
            font-size: 52px;
            font-family: "trebuchet ms", sans-serif;
        }

        .item {
            background: #e7afa3;
            text-align: center;
            height: 300px !important;
        }

        .carousel {
            margin-top: 20px;
        }

        .bs-example {
            margin: 20px;
        }

        .carousel.carousel-fade .item {
            opacity: 0;
            filter: alpha(opacity=0); /* ie fix */
        }

        .carousel.carousel-fade .active.item {
            opacity: 1;
            filter: alpha(opacity=100); /* ie fix */
        }

        button {
            background-color: black;
            border-color: red;
        }
    </style>
    <script>
        function myFunction(name) {
            console.log(name);
            document.getElementById(name).innerHTML = "€ 499.00";
            document.getElementById(name).style.color = "red";
        }
    </script>
    @{
    var searchQuery = Request.QueryString["q"];
    }
    @if (!string.IsNullOrWhiteSpace(searchQuery))
    {
    // string.Empty since we’re not using culture
    var results = Umbraco.ContentQuery.Search(searchQuery);
    int resultsCount = results != null && results.Any() ? results.Count() : 0;
    <p>Your search found @resultsCount results</p>

    if (resultsCount > 0)
    {
    foreach (var result in results)
    {
    var image = result.Content.Value<IPublishedContent> ("photos");
    var description = result.Content.Value<string>
    ("description");
    var imageUrl = image != null ? image.Url : "";
    <head>
        <meta charset="UTF-8">
        <title>Example of Twitter Bootstrap 3 Carousel</title>
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
        <script type="text/javascript" src="https://code.jquery.com/jquery.min.js"></script>
        <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    </head>
    <body>
        <div class="bs-example">
            <div id="myCarousel" class="carousel slide" data-interval="6500" data-ride="carousel">
                <!-- Carousel indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="@description" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="@imageUrl"></li>
                </ol>
                <!-- Carousel items -->
                <div class="carousel-inner">
                    <div class="active item carousel-fade">
                        <div class="carousel-caption">
                            <h3>
                                <img style="width:100px" src="@imageUrl" alt="@result.Content.Name image" />
                                <a href="@result.Content.Url" class="product-grid__item" style="        background-image: url('@result.Content.Url')">
                                    @result.Content.Name
                                </a>
                            </h3>
                            
                            <button onclick="myFunction('demo-@result.Content.Name')">Show price</button>
                            <p id="demo-@result.Content.Name"></p>
                        </div>
                    </div>

                    <div class="item carousel-fade">
                        <div class="carousel-caption">
                            <h3>
                                <img style="width:100%" src="@imageUrl" alt="@result.Content.Name image" />
                                <a href="@result.Content.Url" class="product-grid__item" style="background-image: url('@result.Content.Url')">
                                    @result.Content.Name
                                </a>
                            </h3>
                            @description
                            <button onclick="myFunction('demo-@result.Content.Name')">Show price</button>
                            <p id="demo-@result.Content.Name"></p>
                        </div>
                    </div>
                </div>
                <!-- Carousel nav -->
                <a class="carousel-control left" href="#myCarousel" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                </a>
                <a class="carousel-control right" href="#myCarousel" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                </a>
            </div>
        </div>
    </body>

    }
    }
    }
    @Html.GetGridHtml(Model, "textBody", "bootstrap3-fluid")
